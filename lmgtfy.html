<!DOCTYPE html>
<html>
<head>
    <meta name="robots" content="noindex, nofollow" />
    <!-- Use Tailwind CSS for a clean, modern look -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Roboto font, a core part of Google's design language -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
    <style>body { font-family: 'Roboto', sans-serif;}</style>

    <title>Let me google that for you!</title>
    <script>
        (async function() {
          const googleUrl = 'https://www.google.com';
          const query = new URL(location).searchParams.get('q');
          if(!query) {
              return;
          }

          document.documentElement.innerHTML = await fetch(`https://cors-tube.vercel.app/?url=${encodeURIComponent(googleUrl)}`).then(res=> res.text());
          document.querySelector('body').style.cursor = "none !important";

          // remove cookie banner
          document.querySelectorAll('body div[role="dialog"]').forEach((it) => it.remove());

          const searchInput = document.querySelector('textarea');
          const searchInputRect = searchInput.getBoundingClientRect();

          const cursorElement = document.createElement('img');
          cursorElement.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAABACAQAAADCUP3RAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAydJREFUeNrd119o1WUcx/HnnLktpxaiXRgWhCRBN6JhNfonBVGpqSiSIpoMI8xqMhDKNK1GrDJiRUQQdBHhRUGUdFN2IVFEVCa1WrQ0/0ybc225ndk52ysIfjyM7XBcz7ny/bn6fS9elz94gt2mhWpm0NPqqwkyZGcVSTDkKXXVBBm0o0okgPNa1Ib0qDIJjGRks5p0UNF+p4C/NKtNBksetF4PMGCr2mRwrWBjdcgI5mzWl5Fb1CSDQY0m/UCfJvlkMJjiYeeAszbJJ4NB3lb9GblePhkMajyakT3WySeBkRwAztqQDgqmeCwjz1ifBEbyCX8D3dYkgZFsjuTqJDCS2zPylFXpoKDWdueBk1YlgZFsycgTViSAZcgHksBIPmkQOG55Oiios9MwcMLydFAw1TMZ+YelSWAkWzPyd/ckgOXIJDCSz7kAdFmSDgoatPoH+NUd6aBgupcyssNtSWAkX87IXyxJAiP5mhLws1uTwEi+qgj85OZJgjdaa42xW61JB8BhN00K3KZk/IpKEMnyYN4CM8TveTpV7FsLy4L3+tGdgrhXAIYMlNmgz82fEFzqGF6XF2+36wPetNgtZdZozjgwZ6Xj4Kj5ItjgQ+BTl0/if5i3Tjdg1OOCuI2KMGjZRYM1NugR+9JsEZzje+A9dRcJPuQcUHRQH0PuF8TtAU66oTJonU16gZI3XOMzeFedCC5yGthVESw6oAcoandFCJqU+NMCEaz1DvCdKyuAjAIX7DPjv+tcHbBLELdKAYatrgRmXFt86mqDI+aK4EyHgA/UVwYLWjXEu0XOUNIkiNsOnLawEjhsj6lj7vXehwOmieB1fgNeqPS83ZtxMSsVGHC3CObsA46YUx4seNZlYVxm+Rra5USyUR8UbSwHDtodubHZAV3mi+A0HwOfaAgT5RFTQ5lc7xg0C+K2GIFejWGi5EPZ1HgLDpkpCGot8LwfjALtcmGyuUs/BStMd5+3dRPrdPXkwQYfwRcOKhAr6dJmdph8NiuBWMFXtpn3fx+XVzks1mu/ZWaFlOwFIzq9qFF9SM0iR32jxbVyoRqpt9hsuXCJ9C+7nRe8JZackAAAAABJRU5ErkJggg==";
          cursorElement.style.position = 'absolute';
          cursorElement.style.height= "2em";
          cursorElement.style.left = `calc(${searchInputRect.x}px + 4em)`;
          cursorElement.style.top = `calc(${searchInputRect.y}px + 24em)`;
          cursorElement.style.opacity = '0%';
          cursorElement.style.zIndex = 999;
          document.body.append(cursorElement);
          const cursorAnimationSearchInputDuration = 1200;
          cursorElement.animate([
              {
                top: `calc(${searchInputRect.y}px + 2.5em)`,
                left: `calc(${searchInputRect.x}px + 1em)`,
                opacity: '100%',
              },
            ], {
              easing: 'ease-in-out',
              duration: cursorAnimationSearchInputDuration,
              fill: 'forwards',
            });
          await sleep(cursorAnimationSearchInputDuration);

          searchInput.focus();
          searchInput.click();
          searchInput.setSelectionRange(0, 0);
          await sleep(500);

          await typeInputValue(searchInput, query, 100);
          await sleep(600);

          const searchButton = document.querySelectorAll('form[action="/search"] center > input')[2];
          if(searchButton) {
              const searchButtonRect = searchButton.getBoundingClientRect();
              const cursorAnimationSearchButtionDuration = 900;
              cursorElement.animate([
                  {
                    top: `calc(${searchButtonRect.y}px + 1em)`,
                    left: `calc(${searchButtonRect.x}px + 3em)`,
                    opacity: '100%',
                  },
                ], {
                  easing: 'ease-in-out',
                  duration: cursorAnimationSearchButtionDuration,
                  fill: 'forwards',
                });
              await  sleep(cursorAnimationSearchButtionDuration);
              searchButton.focus();
              await sleep(500);
          } else {
              searchInput.dispatchEvent(new KeyboardEvent('keydown', {
                key: 'Enter',
                code: 'Enter',
                keyCode: 13,
                which: 13,
                bubbles: true, // Allow the event to bubble up the DOM tree
                cancelable: true // Allow the event to be canceled
              }));
          }
              
          window.location =  `${googleUrl}/search?q=${encodeURIComponent(query)}`

          // --- helper functions ----

          async function typeInputValue(inputElement, value, ms = 100) {
            for (const char of value.split("")) {
              inputElement.value += char;
              inputElement.setSelectionRange(inputElement.value.length, inputElement.value.length);
              await sleep(ms + (Math.random() * ms * 0.3));
            }
          }

          async function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
          }
        })()
    </script>
</head>
<body style="display: none;" class="bg-gray-100 min-h-screen flex items-center justify-center">
     <!-- GitHub Corner -->
    <a href="https://github.com/qoomon/website/blob/main/lmgtfy.html" class="github-corner" aria-label="View source on GitHub">
        <svg width="64" height="64" viewBox="0 0 250 250" style="fill: #2463eb;color: #ffffff;position: absolute;top: 0;border: 0;right: 0;z-index: 999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>
        <style scopped="">.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    </a>
    <div class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50">
        <div class="bg-white p-8 rounded-2xl shadow-lg w-11/12 md:w-1/2 lg:w-1/3">
            <div class="text-2xl font-semibold mb-4 text-gray-800 flex justify-center space-x-1">
                <span class="text-blue-600">Let</span>
                <span class="text-red-600">me</span>
                <span class="text-yellow-500">google</span>
                <span class="text-blue-600">that</span>
                <span class="text-green-600">for</span>
                <span class="text-red-600">you</span>
            </div>

            <div class="w-full relative">
                <input
                    id="searchInput"
                    type="text"
                    placeholder="Enter search query ..."
                    class="w-full py-3 pl-5 pr-12 text-gray-700 bg-white border border-gray-200 rounded-full shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300 ease-in-out"
                />
            </div>

            <button
                id="searchButton"
                class="w-full mt-4 bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition duration-300 ease-in-out"
            >Create Link</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const query = new URL(location).searchParams.get('q');
            if(query) {
                return;
            }
            document.body.style.display = null;

            const searchButton = document.getElementById('searchButton');
            const searchInput = document.getElementById('searchInput');
            searchInput.focus();
            searchInput.addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    event.preventDefault();
                    searchButton.click();
                }
            });

            searchButton.addEventListener('click', async() => {
                const url = new URL(location);
                url.searchParams.append('q', searchInput.value);
                await navigator.clipboard.writeText(url.href);
                alert( 'LMGTFY Link:\n' + url.href + '\n\nLink copied to clipboard!');
                location.href = url;
            });
        });
    </script>
</body>
